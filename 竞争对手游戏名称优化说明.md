# 竞争对手游戏名称优化说明

## 问题描述

竞争对手会生成现实生活中存在的游戏名称，例如：
- "英雄联盟"（英雄 + 联盟）
- "王者荣耀"（王者 + 荣耀）
- 其他可能的真实游戏名称

这会导致版权问题和沉浸感破坏。

## 优化方案

### 1. **更换名称词库**

#### 旧词库（容易撞名）
**前缀**：传奇、英雄、王者、战争、征服、冒险、幻想、永恒、命运、荣耀、天堂、地狱、黑暗、光明、神话、史诗

**后缀**：之战、物语、世界、传说、纪元、奇迹、帝国、联盟、争霸、对决、狂潮、风暴、觉醒、重生、起源、终结

**问题组合**：
- 英雄 + 联盟 = 英雄联盟 ❌
- 王者 + 荣耀 = 王者荣耀 ❌
- 传奇 + 联盟 = 传奇联盟 ❌

#### 新词库（更虚构化）
**前缀**（24个）：
```
虚空、星辰、银河、时空、龙翼、凤羽、雷霆、烈焰、
冰霜、暗影、圣光、魔法、机甲、异界、混沌、苍穹、
深渊、幻影、极地、炽天、末日、创世、轮回、涅槃
```

**后缀**（24个）：
```
纪元、编年史、传说、秘境、冒险、挑战、试炼、远征、
征途、战纪、乱斗、狂想、交响曲、协奏曲、狂潮、浩劫、
崛起、黎明、余晖、探索、维度、界限、碎片、遗迹
```

**优势**：
- ✅ 词汇更科幻/奇幻风格
- ✅ 组合后不易撞名
- ✅ 保持游戏虚构世界的沉浸感

**示例名称**：
- 虚空纪元 ✓
- 星辰编年史 ✓
- 龙翼远征 ✓
- 暗影秘境 ✓
- 机甲狂潮 ✓

### 2. **添加黑名单机制**

即使词库更换，也可能出现偶然的撞名。添加黑名单进行过滤：

```kotlin
private val gameNameBlacklist = setOf(
    // 国产热门游戏
    "英雄联盟", "王者荣耀", "和平精英", "原神", "崩坏三", "明日方舟",
    "阴阳师", "梦幻西游", "大话西游", "倩女幽魂", "天涯明月刀", "剑网三",
    "逆水寒", "永劫无间", "黑神话",
    
    // 国际知名游戏
    "战神", "刺客信条", "使命召唤", "绝地求生", "堡垒之夜", 
    "英雄无敌", "魔兽世界", "炉石传说", "守望先锋"
)
```

### 3. **生成逻辑优化**

#### 初始游戏生成（generateCompanyGames）
```kotlin
// 生成唯一的游戏名称（避免真实游戏名称）
var gameName: String
do {
    val prefix = gameNamePrefixes.random()
    val suffix = gameNameSuffixes.random()
    gameName = "$prefix$suffix"
} while (usedGameNames.contains(gameName) || gameNameBlacklist.contains(gameName))
```

#### 新游戏生成（generateNewGame）
```kotlin
// 生成游戏名称（避免真实游戏名称和已有游戏重名）
var gameName: String
val usedNames = company.games.map { it.name }.toSet()
do {
    val prefix = gameNamePrefixes.random()
    val suffix = gameNameSuffixes.random()
    gameName = "$prefix$suffix"
} while (usedNames.contains(gameName) || gameNameBlacklist.contains(gameName))
```

**检查机制**：
1. ✅ 不与同公司已有游戏重名
2. ✅ 不与其他公司游戏重名（初始生成时）
3. ✅ 不在黑名单中（真实游戏名称）

## 效果对比

### 优化前
可能生成的游戏名称：
- 英雄联盟 ❌（真实游戏）
- 王者荣耀 ❌（真实游戏）
- 传奇世界 ❌（真实游戏）
- 天堂二 ❌（类似真实游戏）

### 优化后
生成的游戏名称：
- 虚空纪元 ✓（虚构，科幻感）
- 星辰编年史 ✓（虚构，史诗感）
- 龙翼远征 ✓（虚构，冒险感）
- 暗影秘境 ✓（虚构，神秘感）
- 机甲狂潮 ✓（虚构，未来感）

## 技术细节

### 组合数量
- **旧词库**：16 × 16 = 256种组合
- **新词库**：24 × 24 = 576种组合
- **更大的组合空间**，降低重复概率

### 性能影响
- 黑名单使用`Set`数据结构，查找时间复杂度O(1)
- 随机生成+检查的循环通常1-2次即可找到合法名称
- 对性能影响微乎其微

### 扩展性
如果未来需要添加更多黑名单词汇，只需在`gameNameBlacklist`中添加即可：
```kotlin
private val gameNameBlacklist = setOf(
    // 现有黑名单...
    "新游戏名称1", "新游戏名称2", "新游戏名称3"
)
```

## 修改文件

**文件**：`CompetitorData.kt`

**修改内容**：
1. 第124-136行：更新游戏名称前缀和后缀词库
2. 第138-144行：添加真实游戏名称黑名单
3. 第217-223行：初始游戏生成逻辑添加黑名单检查
4. 第516-524行：新游戏生成逻辑添加黑名单检查和去重

## 后续建议

1. **定期更新黑名单**：
   - 随着新游戏发布，可以添加更多热门游戏到黑名单
   - 考虑添加一些经典老游戏名称

2. **考虑增加词库**：
   - 可以添加更多前缀/后缀词汇，进一步丰富名称多样性
   - 可以根据游戏主题生成不同风格的名称

3. **添加本地化支持**：
   - 未来可以根据地区生成不同语言的游戏名称
   - 为不同市场提供本地化的虚构游戏名称

## 测试验证

### 测试方法
1. 启动游戏，查看竞争对手列表
2. 观察所有竞争对手的游戏名称
3. 验证没有真实游戏名称出现
4. 让游戏运行一段时间，等待新游戏生成
5. 再次检查新生成的游戏名称

### 预期结果
- ✅ 所有竞争对手游戏名称都是虚构的
- ✅ 没有真实游戏名称出现
- ✅ 名称具有游戏感和沉浸感
- ✅ 新游戏生成时也遵循相同规则

## 版本信息

- 优化日期：2025-01-20
- 涉及版本：V1.8.1+
- 问题严重程度：中等（版权风险，影响沉浸感）
