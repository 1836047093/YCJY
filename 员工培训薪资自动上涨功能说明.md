# 员工培训薪资自动上涨功能说明

## 功能概述
实现了员工培训后薪资自动上涨的功能。当员工技能等级提升时，薪资会根据新的技能等级自动调整到对应的标准薪资。

## 薪资标准

根据技能等级，薪资标准如下：

| 技能等级 | 薪资标准 |
|---------|---------|
| Lv.1    | ¥10,000/月 |
| Lv.2    | ¥20,000/月 |
| Lv.3    | ¥30,000/月 |
| Lv.4    | ¥40,000/月 |
| Lv.5    | ¥50,000/月 |

**计算公式**：薪资 = 技能等级 × 10,000元

## 功能实现

### 1. Employee数据类扩展

**文件**：`app/src/main/java/com/example/yjcy/data/GameData.kt`

#### 新增方法

##### calculateSalaryBySkillLevel()
根据员工当前的技能等级计算对应的薪资标准。

```kotlin
fun calculateSalaryBySkillLevel(): Int {
    val skillLevel = getSpecialtySkillLevel().coerceIn(1, 5)
    return skillLevel * 10000
}
```

**功能**：
- 获取员工的专属技能等级（1-5级）
- 根据技能等级计算对应的薪资标准
- 返回计算后的薪资值

### 2. 单个员工培训逻辑修改

**文件**：`app/src/main/java/com/example/yjcy/ui/EmployeeManagementContent.kt`

#### 修改内容

在单个员工培训完成后，自动根据新的技能等级更新薪资：

```kotlin
val updatedEmp = when (val skillType = emp.getSpecialtySkillType()) {
    "开发" -> emp.copy(
        skillDevelopment = minOf(SkillConstants.MAX_SKILL_LEVEL, emp.skillDevelopment + skillBoost)
    )
    // ... 其他技能类型
}
// 根据新的技能等级自动更新薪资
val newSalary = updatedEmp.calculateSalaryBySkillLevel()
updatedEmp.copy(salary = newSalary)
```

**逻辑**：
1. 提升员工的专属技能等级（+1级）
2. 调用 `calculateSalaryBySkillLevel()` 计算新技能等级对应的薪资
3. 更新员工的薪资字段

### 3. 批量培训逻辑修改

**文件**：`app/src/main/java/com/example/yjcy/ui/EmployeeManagementContent.kt`

#### 修改内容

在批量培训完成后，为每个受训员工自动更新薪资：

```kotlin
val updatedEmp = when (emp.getSpecialtySkillType()) {
    "开发" -> emp.copy(
        skillDevelopment = minOf(SkillConstants.MAX_SKILL_LEVEL, emp.skillDevelopment + 1)
    )
    // ... 其他技能类型
}
// 根据新的技能等级自动更新薪资
val newSalary = updatedEmp.calculateSalaryBySkillLevel()
updatedEmp.copy(salary = newSalary)
```

**逻辑**：
1. 遍历所有可培训的员工（技能等级 < 5）
2. 提升每个员工的专属技能等级（+1级）
3. 为每个员工计算并更新对应的薪资标准

## 使用示例

### 示例1：单个员工培训

**培训前**：
- 员工：程序员
- 技能等级：Lv.2
- 当前薪资：¥15,000/月

**培训后**：
- 技能等级：Lv.3（提升1级）
- **自动更新薪资**：¥30,000/月（根据Lv.3标准）

### 示例2：批量培训

**培训前**：
- 员工A：程序员 Lv.1，薪资¥10,000
- 员工B：策划师 Lv.2，薪资¥18,000
- 员工C：美术师 Lv.3，薪资¥28,000

**培训后**：
- 员工A：程序员 Lv.2，**薪资¥20,000**（自动更新）
- 员工B：策划师 Lv.3，**薪资¥30,000**（自动更新）
- 员工C：美术师 Lv.4，**薪资¥40,000**（自动更新）

## 设计考虑

### 1. 薪资标准统一
- 培训后的薪资按照统一的技能等级标准设置
- 确保薪资与技能等级保持一致

### 2. 自动更新机制
- 培训完成后自动更新薪资，无需手动调整
- 减少玩家操作负担，提升游戏体验

### 3. 数值平衡
- 技能等级越高，薪资越高
- 培训成本随着技能等级提升而增加（培训费用基于当前薪资）
- 薪资上涨增加了员工成本，平衡了培训收益

## 注意事项

1. **薪资自动更新**：培训后薪资会自动更新到对应技能等级的标准薪资，即使之前薪资高于标准也会调整
2. **技能等级限制**：技能等级最高为5级，达到5级后无法继续培训
3. **培训成本**：培训费用基于当前薪资计算，薪资上涨后下次培训成本也会相应增加

## 技术实现细节

### 修改文件列表

1. **GameData.kt**
   - 新增 `calculateSalaryBySkillLevel()` 方法

2. **EmployeeManagementContent.kt**
   - 修改单个员工培训逻辑（第315-338行）
   - 修改批量培训逻辑（第510-530行）

### 代码变更统计

- 新增方法：1个
- 修改方法：2个
- 代码行数：约20行

## 总结

本次优化实现了员工培训后薪资自动上涨的功能，确保：
- ✅ 技能等级提升后，薪资自动调整到对应标准
- ✅ 单个和批量培训都支持自动薪资更新
- ✅ 薪资标准与技能等级保持一致
- ✅ 提升游戏体验，减少手动操作

通过这个功能，玩家在培训员工时，薪资会自动根据技能等级调整，使游戏机制更加合理和流畅！



