# 游戏更新公告输入功能说明

## 功能概述

为游戏更新系统添加了更新公告输入功能，玩家可以自由输入更新内容描述，不再使用复选框选择预设选项。

## 核心功能

### 1. 自由文本输入
- 提供一个多行文本输入框（最多5行）
- 玩家可以自由输入任何更新内容描述
- 支持多行输入，可以详细描述更新内容

### 2. 输入验证
- 自动trim去除首尾空格
- 内容不能为空才能确认更新
- 需要有足够资金才能开始更新

### 3. 简洁UI
- 标题："发布游戏更新"
- 输入提示："✏️ 添加更新内容，如：新地图"
- 占位符文字："输入更新内容，如：新地图"
- 输入框高度：120dp，适合输入多行内容

## 使用流程

1. **打开更新对话框**：点击已发售游戏卡片上的"开始更新"按钮
2. **输入更新内容**：在多行文本框中输入更新公告
   - 可以输入详细的更新说明
   - 例如："新增5张地图、优化画面、修复已知BUG"
3. **查看更新费用**：底部显示本次更新所需费用
4. **确认更新**：输入内容后，点击"开始更新"按钮

## UI 布局

```
┌─────────────────────────────────┐
│       发布游戏更新              │
├─────────────────────────────────┤
│ ✏️ 添加更新内容，如：新地图     │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 输入更新内容，如：新地图     │ │
│ │                             │ │
│ │ [多行文本输入框 - 120dp]     │ │
│ │                             │ │
│ │                             │ │
│ └─────────────────────────────┘ │
│                                 │
│ ─────────────────────────────   │
│ 更新费用：           80.00K     │
├─────────────────────────────────┤
│         [取消]  [开始更新]      │
└─────────────────────────────────┘
```

## 修改文件

**GameRevenueDialog.kt** - UpdateFeatureDialog函数

### 主要改动：

1. **状态管理**：
   - `updateContent`: 存储更新公告文本内容（MutableState<String>）
   - 移除了所有选择相关的状态（selected、options等）

2. **UI组件**：
   - 单个多行文本输入框（OutlinedTextField）
   - 输入框高度：120dp
   - 最大行数：5行
   - 占位符提示

3. **确认逻辑**：
   - 检查内容不为空（trim后）
   - 检查资金充足
   - 将文本内容作为单项列表传递给onConfirm

## 优势

✅ **简洁直观**：直接输入更新说明，无需选择  
✅ **灵活自由**：可以写任何想要的更新内容  
✅ **多行支持**：可以详细描述更新内容  
✅ **用户友好**：文本框比复选框更适合输入描述性内容  

## 使用示例

### 单机游戏更新公告
```
新增5张地图
优化游戏画面
修复已知BUG
```

### 网络游戏更新公告
```
新赛季来袭！
- 新增PVP排位赛
- 平衡性调整
- 服务器优化
```

### 更新说明
```
V1.5更新内容：
1. 新增剧情模式
2. 优化操作体验
3. 修复闪退问题
```

## 技术细节

- 输入内容自动trim()去除首尾空格
- 内容不能为空才能确认
- 支持多行输入（最多5行）
- 文本框高度固定120dp
- 字体大小：14sp

## 向后兼容

- onConfirm仍然接收List<String>参数
- 将输入的文本作为单项列表传递：`listOf(content)`
- 不影响更新费用计算逻辑
- 不影响后续的更新任务处理

## 后续优化建议

1. 可以考虑添加字数限制（如最多200字）
2. 可以添加更新公告历史记录查看
3. 可以在游戏详情中显示历史更新公告
4. 可以添加Markdown支持以丰富格式
