# GM工具箱 - 一键满配战队功能说明

## 功能概述

在GM工具箱中新增了**一键满配战队成员**功能，可以快速创建一支由顶级SSR选手组成的满配战队。

---

## 功能特性

### 🎯 核心功能

- **自动清空现有战队**：执行前会先解约所有现有战队成员
- **招募SSR选手**：为每个位置招募1名SSR品质的选手
- **自动签约**：招募后自动签约到战队，无需手动操作
- **位置覆盖**：覆盖所有5个位置（上单、打野、中单、ADC、辅助）
- **不重复**：每个位置只有1名成员，确保阵容完整且不重复

### 📊 战队配置

| 位置 | 选手数量 | 品质 |
|------|---------|------|
| 上单 (TOP) | 1名 | SSR |
| 打野 (JUNGLE) | 1名 | SSR |
| 中单 (MID) | 1名 | SSR |
| ADC | 1名 | SSR |
| 辅助 (SUPPORT) | 1名 | SSR |
| **总计** | **5名** | **全SSR** |

---

## 使用方法

### 1. 激活GM模式

1. 进入游戏设置界面
2. 在兑换码输入框输入：`progm`
3. 点击"兑换"按钮
4. GM工具箱激活

### 2. 使用一键满配战队

1. 在设置界面找到"🛠️ GM工具箱"区域
2. 点击"⚽ 一键满配战队成员"按钮
3. 系统自动执行：
   - 清空现有战队成员
   - 为每个位置招募1名SSR选手（共5名）
   - 自动签约所有新选手
4. 完成！前往战队管理查看新战队

---

## SSR选手属性

### 属性范围
- **操作 (Mechanics)**: 60-80
- **意识 (Awareness)**: 60-80
- **团队 (Teamwork)**: 60-80
- **心态 (Mentality)**: 60-80
- **英雄掌握 (Hero Mastery)**: 60-80

### 英雄池
- **英雄数量**: 10-15个英雄
- **熟练度**: 60-80
- **冠军英雄**: 自动设置前3个英雄为冠军英雄

### 合同信息
- **月薪**: 根据SSR品质自动设定
- **合同期限**: 2年
- **买断条款**: 月薪 × 24

---

## 技术实现

### 修改文件

| 文件 | 修改内容 |
|------|---------|
| `MainActivity.kt` | 1. 添加`onMaxTeamPlayers`回调参数<br>2. 实现GM工具箱按钮<br>3. 实现战队创建逻辑 |
| `PlayerManager.kt` | 扩展`recruitPlayer`方法支持指定位置参数 |

### 核心代码

```kotlin
// MainActivity.kt - GM回调实现
onMaxTeamPlayers = {
    val positions = listOf(
        HeroPosition.TOP,
        HeroPosition.JUNGLE,
        HeroPosition.MID,
        HeroPosition.ADC,
        HeroPosition.SUPPORT
    )
    
    // 清空现有战队
    PlayerManager.myTeam.forEach { player ->
        PlayerManager.releasePlayer(player.id)
    }
    
    // 为每个位置招募1名SSR选手
    positions.forEach { position ->
        val player = PlayerManager.recruitPlayer(
            rarity = PlayerRarity.SSR,
            position = position
        )
        PlayerManager.signPlayer(player.id)
    }
}
```

```kotlin
// PlayerManager.kt - 扩展招募方法
fun recruitPlayer(
    rarity: PlayerRarity? = null, 
    position: HeroPosition? = null
): EsportsPlayer {
    val actualRarity = rarity ?: rollRarity()
    val player = generatePlayer(actualRarity, position)
    _players.add(player)
    return player
}
```

---

## 注意事项

### ⚠️ 重要提示

1. **战队清空**：
   - 执行此功能会**清空所有现有战队成员**
   - 原有选手会被解约但不会删除，仍在"全部选手"列表中

2. **战队人数**：
   - 创建后战队人数为5人（标准阵容）
   - 每个位置各1名选手，不重复

3. **游戏平衡**：
   - 此功能会严重破坏游戏平衡性
   - 建议仅用于测试和快速体验电竞系统

4. **存档影响**：
   - 创建的选手会保存到存档
   - 下次加载存档时这些选手仍然存在

---

## 使用场景

### 适用场景

✅ **快速测试电竞系统**
- 无需漫长的选手培养过程
- 直接体验顶级战队的比赛

✅ **内容展示**
- 演示电竞系统的完整功能
- 展示SSR选手的属性和能力

✅ **开发调试**
- 快速验证战队管理功能
- 测试赛事系统的各种情况

### 不适用场景

❌ **正常游戏流程**
- 会破坏游戏的成长体验
- 失去选手培养的乐趣

❌ **竞技对战**
- 不公平的优势
- 失去竞技性

---

## 界面展示

### GM工具箱界面

```
🛠️ GM工具箱

[📊 修改游戏数据] (紫色)
[💰 一键加1000万] (金色)
[⭐ 各职位6名5级员工] (绿色)
[⚽ 一键满配战队成员] (蓝色) ← 新增
```

### 按钮样式
- **颜色**: 蓝色 (#3B82F6)
- **图标**: ⚽ (足球)
- **文字**: "一键满配战队成员"

---

## 测试步骤

### 完整测试流程

1. **激活GM模式**
   ```
   设置 → 兑换码 → 输入"progm" → 兑换
   ```

2. **执行功能**
   ```
   设置 → GM工具箱 → 点击"一键满配战队成员"
   ```

3. **验证结果**
   ```
   赛事 → 战队管理 → 战队阵容
   - 检查是否有5名选手
   - 检查是否都是SSR品质
   - 检查是否覆盖所有5个位置（各1名）
   ```

4. **检查选手属性**
   ```
   战队管理 → 全部选手
   - 查看选手详细属性
   - 确认属性在60-80范围
   - 确认英雄池数量10-15个
   ```

---

## 版本历史

**v1.0.0** (2025-01-XX)
- ✅ 实现一键满配战队功能
- ✅ 支持自动清空现有战队
- ✅ 支持为每个位置招募2名SSR选手
- ✅ 支持自动签约
- ✅ 添加GM工具箱按钮

---

## 相关文档

- [GM工具箱功能说明.md](GM工具箱功能说明.md) - GM工具箱总览
- [战队管理组建战队功能修复说明.md](战队管理组建战队功能修复说明.md) - 战队管理系统
- [电竞赛事功能完成说明.md](电竞赛事功能完成说明.md) - 电竞系统总览

---

## 常见问题

### Q: 为什么只创建5名选手？
A: 每个位置1名选手是标准阵容配置，确保每个位置都有成员且不重复。如需更多选手，可以通过青训营继续招募。

### Q: 原有的战队成员会被删除吗？
A: 不会删除，只是解约。原有选手仍在"全部选手"列表中，可以重新签约。

### Q: 可以指定选手的具体属性吗？
A: 当前版本不支持，选手属性在SSR品质范围内随机生成（60-80）。

### Q: 可以只招募某个位置的选手吗？
A: 当前版本不支持，会为所有5个位置各招募1名选手。如需单独招募，请使用青训营功能。

---

## 开发者备注

### 扩展建议

1. **自定义配置**
   - 支持选择品质（S/A/B等）
   - 支持选择位置
   - 支持选择数量

2. **属性定制**
   - 支持设置具体属性值
   - 支持设置英雄池

3. **批量操作**
   - 支持批量提升选手等级
   - 支持批量修改选手属性

### 代码优化

- 考虑添加确认对话框，避免误操作
- 考虑添加进度提示
- 考虑添加操作日志

---

**文档版本**: v1.0.0  
**最后更新**: 2025-01-XX  
**维护者**: 开发团队
