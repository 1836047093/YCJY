# 竞争对手收购条件优化说明

## 优化内容

移除了收购竞争对手时的**市值限制**，现在只要有足够的资金就可以进行收购。

## 修改前后对比

### 修改前（V1.0）

玩家需要同时满足两个条件才能收购：
1. ❌ **市值要求**：玩家市值 ≥ 目标市值 × 1.5倍
2. ✅ **资金要求**：玩家资金 ≥ 目标市值 × 1.2倍

**问题**：即使玩家有足够的钱，如果市值不够也无法收购，限制过于严格。

### 修改后（V2.0）

玩家只需满足一个条件：
- ✅ **资金要求**：玩家资金 ≥ 目标市值 × 1.2倍

**优势**：
- 更加灵活，玩家可以通过积累资金来收购更大的竞争对手
- 符合现实逻辑：收购主要看资金实力，不看自身市值
- 降低收购门槛，增加游戏策略性

## 收购流程

1. **资格检查**：
   - 检查资金是否 ≥ 目标市值 × 1.2倍
   - 如果不足，显示"资金不足"提示

2. **竞价系统**（30-50%概率触发）：
   - 基础收购价 = 目标市值 × 1.2倍
   - 其他竞争对手可能参与竞价
   - 玩家需要出价高于竞争对手

3. **收购成功**：
   - 扣除收购费用
   - 继承目标公司的所有游戏
   - 增加市值和粉丝
   - 目标公司从竞争对手列表中移除

## 示例

**目标公司**：市值200万（2M）

**修改前**：
- 需要市值：≥300万（1.5倍）
- 需要资金：≥240万（1.2倍）
- 玩家市值623K → ❌ 市值不足，无法收购

**修改后**：
- 需要资金：≥240万（1.2倍）
- 玩家资金623K → ❌ 资金不足，需要继续赚钱
- 玩家资金300万 → ✅ 可以尝试收购

## 技术细节

**修改文件**：
- `CompetitorData.kt`：`checkAcquisitionEligibility()` 函数
  - 移除市值检查逻辑（739-743行）
  - 保留资金检查逻辑

**影响范围**：
- 收购资格检查
- 收购对话框UI自动适配（不再显示"市值不足"错误）

## 向后兼容

✅ 完全向后兼容，旧存档可以直接使用新逻辑，不需要重新开档。

## 修改日期

2025-01-26
