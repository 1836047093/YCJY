# 服务器管理功能说明

## 功能概述
在底部导航栏新增了"服务器管理"选项卡，提供集中管理所有网络游戏服务器的界面。

## 主要功能

### 1. 导航栏更新
- **位置**：底部导航栏第4个选项（索引3）
- **图标**：🖥️
- **名称**：服务器

导航栏现在包含5个选项：
1. 🏢 公司概览
2. 👥 员工管理
3. 🎮 项目管理
4. 🖥️ 服务器
5. ⚙️ 设置

### 2. 服务器管理页面 (`ServerManagementContent`)

#### 页面功能
- **游戏筛选**：只显示已上线的网络游戏
- **搜索功能**：支持按游戏名称搜索
- **服务器概览**：显示网游数量和当前资金
- **游戏列表**：展示每个网游的服务器状态
  - 服务器数量
  - 总容量
  - 总投入

#### 服务器管理对话框
点击任一游戏卡片可打开该游戏的服务器管理对话框，包含：
- **当前状况**：服务器数量、总容量
- **已购买服务器列表**：显示所有已购买的服务器及其状态
- **购买新服务器**：列出所有可购买的服务器类型

### 3. 服务器类型
服务器已改名为星尘系列：
- **星尘-D型服务器**：10万容量，¥100K
- **星尘-C型服务器**：50万容量，¥500K  
- **星尘-B型服务器**：200万容量，¥2.00M
- **星尘-A型服务器**：500万容量，¥5.00M

### 4. 购买服务器流程
1. 在"服务器管理"页面选择要管理的网游
2. 打开服务器管理对话框
3. 在"购买新服务器"区域选择服务器类型
4. 点击"购买"按钮（需要有足够资金）
5. 系统自动扣除费用并添加服务器到游戏

### 5. 网游上线检查
网络游戏在上线前必须先部署服务器：
- 在游戏发售对话框中会显示服务器状态
- ✅ 有服务器：显示绿色状态卡片，可以上线
- ⚠️ 无服务器：显示红色警告卡片，禁止上线
- 提示玩家前往"服务器管理"购买服务器

## 技术实现

### 新增文件
- `ServerManagementContent.kt`：服务器管理页面主要组件

### 修改文件
1. **MainActivity.kt**
   - 添加第5个导航选项"服务器管理"（索引3）
   - 在`when(selectedTab)`中添加服务器管理页面
   - 实现服务器购买逻辑
   - 添加相关import语句

2. **GameReleaseDialog.kt**
   - 添加服务器状态检查卡片
   - 网游上线前必须有服务器才能继续

3. **ServerData.kt**
   - 更新服务器名称为星尘系列

4. **GameRevenueData.kt**
   - 添加`addServerToGame`方法

5. **MonetizationSelectionStep.kt**
   - 移除"全部选择"按钮
   - 移除付费内容开关
   - 所有推荐的付费内容默认启用

## 用户体验优化
- 集中管理：所有网游服务器在一个页面统一管理
- 清晰的视觉反馈：使用不同颜色表示服务器状态
- 资金检查：购买按钮根据资金状态自动禁用/启用
- 搜索功能：快速找到需要管理的游戏
- 上线检查：防止玩家在没有服务器的情况下上线网游

## 数据流向
```
用户选择游戏 
  → 打开服务器管理对话框 
  → 选择服务器类型并购买 
  → RevenueManager.addServerToGame() 
  → 更新游戏服务器信息 
  → 扣除资金 
  → 显示成功消息
```

## 注意事项
1. 只有已上线的网络游戏才会显示在服务器管理页面
2. 购买服务器需要有足够的资金
3. 服务器购买后会立即生效
4. 服务器状态会实时更新到游戏数据中
5. 网游必须先购买服务器才能上线
